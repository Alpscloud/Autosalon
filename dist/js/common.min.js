var ProjectApp=function(){function e(e,t){e.classList.add(t)}function t(e,t){e.classList.remove(t)}function a(a){var l=a&&a.target?a.target:a.srcElement;"show"===l.getAttribute("data-id")?(t(s,"active"),e(r,"active"),e(n,"active"),t(s,"active")):"close"===l.getAttribute("data-id")&&(t(r,"active"),t(n,"active"),t(s,"active"))}var l=document.getElementById("year"),o=document.getElementById("callbackBtn"),i=document.querySelectorAll(".js-close"),r=document.getElementById("overlay"),n=document.getElementById("popup"),s=document.getElementById("popupService");if(o&&o.addEventListener("click",a),r||i){r.addEventListener("click",a);for(var c=0;c<i.length;c++)i[c].addEventListener("click",a)}var p=new Date,d=p.getFullYear();l.innerHTML=d};window.addEventListener("DOMContentLoaded",function(){new ProjectApp}),$(document).ready(function(){$(".js-service").each(function(){$(this).on("click",function(){var e=$(this).parent().find(".service__item--title").text(),t=$("#popupService"),a=t.find(".form__title"),l=t.find(".mail__theme"),o=t.find(".form__input--textarea");o.attr("name","Проблема"),o.attr("placeholder","Кратко опишите свою проблему"),a.text(e),l.val(e),$("#overlay").addClass("active"),t.addClass("active")})}),$(".js-feedback").each(function(){$(this).on("click",function(){var e="Оставить свой отзыв",t=$("#popupService"),a=t.find(".form__title"),l=t.find(".mail__theme"),o=t.find(".form__input--textarea");o.attr("name","Отзыв"),o.attr("placeholder","Ваш отзыв"),a.text(e),l.val(e),$("#overlay").addClass("active"),t.addClass("active")})}),$(".smooth__scroll").on("click",function(e){e.preventDefault();var t=$(this).attr("href"),a=$(t).offset().top;$("html, body").animate({scrollTop:a},"slow")})}),$('a.smoothScroll-link[href^="#"]').on("click",function(){var e=$("body").width(),t=$(this).attr("href");return e<1e3&&$(".nav__header .nav__list").slideToggle(),0!=$(t).length&&$("html, body").animate({scrollTop:$(t).offset().top-70},500),!1});var top_show=150,delay=1e3;$(window).scroll(function(){$(this).scrollTop()>top_show?$(".btn__up").fadeIn():$(".btn__up").fadeOut()}),$(".btn__up").click(function(){$("body, html").animate({scrollTop:0},delay)}),$("#hamburger").on("click",function(){$(".nav__header .nav__list").slideToggle(300)});var onMapMouseleaveHandler=function(e){var t=$(this);t.on("click",onMapClickHandler),t.off("mouseleave",onMapMouseleaveHandler),t.find("iframe").css("pointer-events","none")},onMapClickHandler=function(e){var t=$(this);t.off("click",onMapClickHandler),t.find("iframe").css("pointer-events","auto"),t.on("mouseleave",onMapMouseleaveHandler)};$(".google__map").on("click",onMapClickHandler);var latitude=56.62586,longitude=47.934437,map_zoom=16,marker_url="img/map-ic.png",style=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#a0951c"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#ddcd20"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#ddcd20"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#a0951c"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}],map_options={center:new google.maps.LatLng(latitude,longitude),zoom:map_zoom,panControl:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,styles:style},map=new google.maps.Map(document.getElementById("map"),map_options),marker=new google.maps.Marker({position:new google.maps.LatLng(latitude,longitude),map:map,visible:!0,icon:marker_url}),html=$("body").width(),maxheight=0,maxheight2=0;html>769&&($(".feedback__item--info p").each(function(){$(this).height()>maxheight&&(maxheight=$(this).height())}),$(".feedback__item--info p").height(maxheight),$(".adv__block p").each(function(){$(this).height()>maxheight2&&(maxheight2=$(this).height())}),$(".adv__block p").height(maxheight2)),$(".form__input--validate").on("focus",function(){$(this).hasClass("validate")&&($(this).removeClass("validate"),$(this).next().addClass("hidden"))}),$(".form__contact").submit(function(e){e.preventDefault();var t=$(this),a=t.find(".form__input--validate"),l=!0;return $(a).each(function(){$(this).val()&&""!=$(this).val()||($(this).addClass("validate"),$(this).next().removeClass("hidden"),l=!1)}),!!l&&void $.ajax({type:"POST",url:"mail.php",data:t.serialize()}).done(function(){return $("#overlay").addClass("active"),$("#thanks").addClass("active"),$("#popup").hasClass("active")&&$("#popup").removeClass("active"),$("#popupService").hasClass("active")&&$("#popupService").removeClass("active"),setTimeout(function(){$("#overlay").removeClass("active"),$("#thanks").removeClass("active"),t.trigger("reset")},2e3),!1})});